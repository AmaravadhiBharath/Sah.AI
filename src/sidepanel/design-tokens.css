/* ═══════════════════════════════════════════════════════════════════════════
   DESIGN TOKENS & SPACING SYSTEM
   SahAI v2.0 - Foundation layer for consistent, scalable design
   ═══════════════════════════════════════════════════════════════════════════ */

:root {
  /* ═════════════════════════════════════════════════════════════════════════
     SPACING TOKENS (8px base grid system)
     ═════════════════════════════════════════════════════════════════════════ */

  --space-0: 0;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;      /* 4px × 3 */
  --space-4: 16px;      /* 8px × 2 */
  --space-5: 20px;      /* 4px × 5 */
  --space-6: 24px;      /* 8px × 3 */
  --space-7: 28px;
  --space-8: 32px;      /* 8px × 4 */
  --space-10: 40px;     /* 8px × 5 */
  --space-12: 48px;     /* 8px × 6 */
  --space-16: 64px;     /* 8px × 8 */

  /* ═════════════════════════════════════════════════════════════════════════
     TYPOGRAPHY SCALE (1.2x ratio - typescale.com)
     Desktop scale - will be reduced on mobile
     ═════════════════════════════════════════════════════════════════════════ */

  --font-base: 14px;
  --line-height-base: 1.5;

  /* Extra Small (11px) */
  --font-xs: calc(var(--font-base) / 1.2 / 1.2);
  --line-height-xs: 1.4;

  /* Small (13px) */
  --font-sm: calc(var(--font-base) / 1.2);
  --line-height-sm: 1.5;

  /* Base (14px) */
  /* --font-base already defined */

  /* Large (16px) */
  --font-lg: calc(var(--font-base) * 1.2);
  --line-height-lg: 1.5;

  /* Heading 3 (19px) */
  --font-h3: calc(var(--font-base) * 1.2 * 1.2);
  --line-height-h3: 1.4;

  /* Heading 2 (23px) */
  --font-h2: calc(var(--font-base) * 1.2 * 1.2 * 1.2);
  --line-height-h2: 1.3;

  /* Heading 1 (27px) */
  --font-h1: calc(var(--font-base) * 1.2 * 1.2 * 1.2 * 1.2);
  --line-height-h1: 1.2;

  /* ═════════════════════════════════════════════════════════════════════════
     FONT WEIGHTS
     ═════════════════════════════════════════════════════════════════════════ */

  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* ═════════════════════════════════════════════════════════════════════════
     BORDER RADIUS
     ═════════════════════════════════════════════════════════════════════════ */

  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-xl: 12px;
  --radius-2xl: 16px;
  --radius-full: 9999px;

  /* ═════════════════════════════════════════════════════════════════════════
     TRANSITIONS
     ═════════════════════════════════════════════════════════════════════════ */

  --transition-fast: 150ms ease;
  --transition-base: 200ms ease;
  --transition-slow: 300ms ease;

  /* ═════════════════════════════════════════════════════════════════════════
     Z-INDEX SCALE
     ═════════════════════════════════════════════════════════════════════════ */

  --z-dropdown: 100;
  --z-modal: 1000;
  --z-tooltip: 1100;
  --z-notification: 1200;

  /* ═════════════════════════════════════════════════════════════════════════
     TOUCH TARGET SIZE
     WCAG: 44px minimum for interactive elements
     ═════════════════════════════════════════════════════════════════════════ */

  --touch-target-min: 44px;
}

/* ═════════════════════════════════════════════════════════════════════════
   MOBILE SCALE (280px-400px)
   Reduce typography, tighter spacing
   ═════════════════════════════════════════════════════════════════════════ */

@media (max-width: 400px) {
  :root {
    /* Scale down typography for mobile */
    --font-base: 13px;
    --font-xs: 10px;
    --font-sm: 12px;
    --font-lg: 14px;
    --font-h3: 16px;
    --font-h2: 19px;
    --font-h1: 22px;

    /* Tighter spacing on mobile */
    --space-4: 14px;   /* Instead of 16px */
    --space-6: 20px;   /* Instead of 24px */
    --space-10: 36px;  /* Instead of 40px */
  }
}

/* ═════════════════════════════════════════════════════════════════════════
   RESPECTS USER MOTION PREFERENCES (CRITICAL)
   Disables all animations if user prefers reduced motion
   ═════════════════════════════════════════════════════════════════════════ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ═════════════════════════════════════════════════════════════════════════
   GLOBAL FOCUS STYLES (WCAG AA Keyboard Navigation)
   ═════════════════════════════════════════════════════════════════════════ */

button:focus-visible,
input:focus-visible,
a:focus-visible,
[tabindex]:focus-visible {
  outline: 2px solid var(--m3-primary);
  outline-offset: 2px;
}

/* Remove outline from :focus (only show on :focus-visible) */
:focus {
  outline: none;
}

/* ═════════════════════════════════════════════════════════════════════════
   UTILITY CLASSES
   ═════════════════════════════════════════════════════════════════════════ */

.text-xs {
  font-size: var(--font-xs);
  line-height: var(--line-height-xs);
}

.text-sm {
  font-size: var(--font-sm);
  line-height: var(--line-height-sm);
}

.text-base {
  font-size: var(--font-base);
  line-height: var(--line-height-base);
}

.text-lg {
  font-size: var(--font-lg);
  line-height: var(--line-height-lg);
}

.text-h3 {
  font-size: var(--font-h3);
  line-height: var(--line-height-h3);
  font-weight: var(--font-weight-semibold);
}

.text-h2 {
  font-size: var(--font-h2);
  line-height: var(--line-height-h2);
  font-weight: var(--font-weight-semibold);
}

.text-h1 {
  font-size: var(--font-h1);
  line-height: var(--line-height-h1);
  font-weight: var(--font-weight-bold);
}

.font-normal {
  font-weight: var(--font-weight-normal);
}

.font-medium {
  font-weight: var(--font-weight-medium);
}

.font-semibold {
  font-weight: var(--font-weight-semibold);
}

.font-bold {
  font-weight: var(--font-weight-bold);
}

.text-primary {
  color: var(--m3-on-surface);
}

.text-secondary {
  color: var(--m3-on-surface-variant);
}

.text-muted {
  color: var(--m3-on-surface-variant);
  opacity: 0.7;
}
